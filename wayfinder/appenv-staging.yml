---
# yamllint disable rule:line-length
apiVersion: app.appvia.io/v2beta1
kind: AppEnv
metadata:
  name: ${{ values.name }}-staging
  namespace: ws-${{ values.workspaceKey }}
spec:
  application: ${{ values.name }}
  cloud: ${{ values.cloud }}
  cloudAccessConfigRef:
    name: ${{ values.cloud }}-nonprod
    workspace: ${{ values.workspaceKey }}
  clusterRef:
    group: compute.appvia.io
    kind: Cluster
    name: ${{ values.nonProdCluster }}
    namespace: ws-${{ values.workspaceKey }}
    version: v2beta2
  name: staging
  namespace: ${{ values.name }}-staging
  stage: nonprod
